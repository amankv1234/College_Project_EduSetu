<%- include("partials/navbar") %>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<style>
  .glass {
    background: rgba(255, 255, 255, 0.15);
    border: 1px solid rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(15px);
  }
</style>

<body class="bg-gradient-to-br from-purple-600 to-indigo-500 min-h-screen p-6">

  <!-- PAGE TITLE -->
  <h1 class="text-4xl font-bold text-white text-center mb-8">
    üß† Skill Evaluation Test
  </h1>

  <!-- Test Creation Card -->
  <div class="max-w-2xl mx-auto glass p-6 rounded-xl shadow-lg">
    
    <h2 class="text-2xl font-semibold text-white mb-4">
      Create Your Test
    </h2>

    <div class="space-y-4">

      <!-- Select Topic -->
      <div>
        <label class="text-white font-medium">Select Topic</label>
        <select id="topicSelect"
          class="w-full p-3 rounded-md mt-1">
          <option value="">Choose a Topic</option>
          <option value="HTML">HTML</option>
          <option value="CSS">CSS</option>
          <option value="JavaScript">JavaScript</option>
          <option value="DSA">Data Structures</option>
          <option value="C++">C++</option>
          <option value="Python">Python</option>
        </select>
      </div>

      <!-- Number of Questions -->
      <div>
        <label class="text-white font-medium">Number of Questions</label>
        <input type="number" id="questionCount" placeholder="Example: 10"
          class="w-full p-3 mt-1 rounded-md" />
      </div>

      <!-- Start Test Button -->
      <button onclick="startTest()"
        class="w-full bg-yellow-400 hover:bg-yellow-500 text-black py-3 rounded-lg font-semibold text-lg transition">
        üöÄ Start Test
      </button>
    </div>
  </div>

  <!-- ‚òÖ QUESTIONS SECTION ‚òÖ -->
  <div id="questionsSection" class="hidden mt-10 max-w-3xl mx-auto glass p-6 rounded-xl">
    
    <h2 class="text-3xl text-white font-bold mb-4">üìù Your Test</h2>
    <div id="questionsContainer" class="space-y-4"></div>

    <button onclick="submitTest()"
      class="mt-6 w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-semibold text-lg">
      ‚úî Submit Test
    </button>
  </div>

  <!-- ‚òÖ RESULT SECTION ‚òÖ -->
  <div id="resultSection" class="hidden mt-10 max-w-xl mx-auto glass p-6 rounded-xl text-center">
    
    <h2 class="text-3xl text-white font-bold">üéâ Test Completed!</h2>

    <p id="resultScore" class="text-white text-xl mt-3 font-semibold"></p>
    <p id="resultMotivation" class="text-yellow-200 text-lg mt-2"></p>

    <button onclick="location.reload()"
      class="mt-6 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg">
      üîÑ Take Another Test
    </button>
  </div>


  <!-- JS LOGIC -->
  <script>
    function startTest() {
      const topic = document.getElementById("topicSelect").value;
      const count = document.getElementById("questionCount").value;

      if (!topic || !count) {
        alert("Please select a topic and number of questions!");
        return;
      }

      document.getElementById("questionsSection").classList.remove("hidden");

      let container = document.getElementById("questionsContainer");
      container.innerHTML = "";

      for (let i = 1; i <= count; i++) {
        container.innerHTML += `
          <div class="bg-white p-4 rounded-lg shadow">
            <p class="font-semibold mb-2">Question ${i}</p>
            <input type="text" placeholder="Your answer..."
              class="w-full p-3 border rounded-md">
          </div>
        `;
      }
    }

    function submitTest() {
      const score = Math.floor(Math.random() * 100);

      document.getElementById("resultSection").classList.remove("hidden");
      document.getElementById("resultScore").innerHTML = `Your Score: <b>${score}%</b>`;

      let msg = "";
      if (score < 40) msg = "Don‚Äôt worry! Every master was once a beginner.";
      else if (score < 70) msg = "Good job! Keep learning and improving üìòüí°";
      else msg = "üî• Excellent! You are on the road to mastery!";

      document.getElementById("resultMotivation").innerHTML = msg;

      window.scrollTo(0, document.body.scrollHeight);
    }
  </script>

</body>
</html>
